## CHAPTER 04 테스트 구축하기

### 토론

요즘은 단위 테스트를 작성하는게 맞는 것인가? 라는 생각이 듭니다. 통합 테스트만 작성하고 사용자 행동 기반으로 테스트를 작성하는 것이 더 맞는거 같기도 하고.. 어떻게 생각하시나요?

### 4.1 자가 테스트 코드의 가치

모든 테스트를 완전히 자동화하고 그 결과까지 스스로 검사하게 만들자

테스트 스위트는 강력한 버그 검출 도구로, 버그를 찾는 데 걸리는 시간을 대폭 줄여준다

### 4.2 테스트할 샘플 코드

### 4.3 첫 번째 테스트

1. 픽스처 설정
2. 검증

실패해야 할 상황에서는 반드시 실패하게 만들자

자주 테스트하라

assert, expect 를 이용하여 코드를 검증하라

### 4.4 테스트 추가하기

테스트는 위험요인을 중심으로 작성해야 한다.

완벽하게 만드느라 테스트를 수행하지 못하느니, 불완전한 테스트라도 작성해 실행하는게 낫다.

임시 값을 설정 → 실제 값 대체 → 오류를 심었다가 되돌림

공유 픽스처를 사용하지 말고 beforeEach를 활용하자

### 4.5 픽스처 수정하기

### 4.6 경계 조건 검사하기

happy case 를 벗어나는 경계 지점에서 문제가 생기면 어떤 일이 생기는지 테스트 해보자

**문제가 생길 가능성이 있는 경계 조건을 생각해보고 그 부분을 집중적으로 테스트하자**

### 4.7 끝나지 않은 여정

테스트 스위트가 충분한지를 평가하는 기준은 주관적이다. 

테스트가 모두 초록색일 때 리팩터링 과정에서 생겨난 버그가 없다고 확신할 수 있다면 좋은 테스트 스위트이다.