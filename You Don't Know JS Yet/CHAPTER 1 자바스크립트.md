배경지식을 알게 도면 자바스크립트의 정체와 자바스크립트 명세서가 확정되고 유지 보수되는 절차를 파악할 수 있다.

# 1.1 책에 대하여

책을 빠르게 독파하겠다는 생각은 내려놓고, 인내와 끈기가 최고의 미덕이라는 생각과 함께 여정을 시작하길 바란다.

시간을 들여 이 책에서 다루는 내용을 완전히 내 것으로 만들기를 바란다. `첫 단추를 잘 끼워야 한다는 점`을 잊지 마라.

# 1.2 자바스크립트 이름의 유래

자바스크립트라는 이름은 사실 마케팅 목적으로 사람들을 속이기 위해 고안한 이름이다.

→ 다른 책에서 본 내용이다. 인기 있는 자바의 이름을 따와서 자바스크립트라고 지었다고 읽었다.

자바와 자바스크립트는 문법이라는 프로그래밍적 관점보다 법률적 관점에서 더 강하게 결부(서로 연관시키는 것)된다.

# 1.3 명세서

TS39는 JS를 관리하는 기술 운영 위원회로 JS의 공식 명세를 관리한다.

→ 관심도 없던 TS39 조직에 대해서 읽게 될 줄이야. https://tc39.es/

새로운 아이디어가 다음 연도 개정안에 포함될 자격을 가지려면 아래와 같은 단계를 밟아야 한다.

제안 → TC39 위원의 지원 → 0단계 → 1단계 → 2단계→ 3단계 → 4단계 → 다음 연도 개정안에 포함

깃허브: https://github.com/tc39

JS의 행보는 TC39 위원의 목소리에 크게 좌우된다.

JS에는 버전이 없다. TC39와 ECMA에 의해 유지되는 공식적인 표준 JS는 `단 하나`뿐이다.

모든 주요 브라우저, 디바이스 제조사는 단 하나뿐인 명세서를 기준으로 JS 구현체를 만든다. 브라우저 엔진별로 명세서 개정안을 반영하는 시기가 다르긴 하지만, 규칙을 어기는 일은 절대 없어야 한다.

## 1.3.1 JS를 지배하는 웹

불일치가 발생하면 TC39 위원회는 종종 기존 결정을 철회하고 명세서를 웹에 맞춘다. 배열 메서드 contains()를 추가하려다가 몇몇 JS 프레임워크에서 충돌이 발생한다는 걸 발견하고 메서드 명을 includes()로 수정한 사례가 대표적이다.

→ includes를 자주 사용하는데 이런 일도 있었구나

## 1.3.2 JS지만 JS가 아닌 웹 전용 문법

alert()는 명세서에는 없지만 모든 웹 한경에서 지원되는 함수이다.

→ alert이 명세서에 없다고?

alert()와 console.log()는 JS에 정의된 문법이 아니지만, JS의 함수와 객체 메서드 규칙을 따르고 JS처럼 보인다.

## 1.3.3 모든 코드가 JS인 것은 아닙니다.

콘솔에 입력한 코드는 JS 엔진이 .js 파일을 다루는 방식과 동일한 방식으로 처리되지 않는다. 콘솔의 목적은 개발자가 짧은 코드를 입력하고 그 결과를 즉시 확인하기 위함이다. JS엔진과 콘솔의 유스 케이스는 완전히 다르다.

개발자 도구는 `JS에 우호적인` 별도의 환경이라는 점을 유념하고 활용하라.

# 1.4 JS의 다양한 얼굴

프로그래밍 분야에서 `패러다임`이라는 용어는 코드를 어떻게 구조화할지에 대한 접근방식과 사고방식을 의미한다.

프로그래밍 패러다임으로는 절차적, 객체지향, 함수형이 있다.

- 절차적 프로그래밍 패러다임에서는 코드가 톱다운이면서 선형적으로 구조화되는데, 이때 프로시저라 불리는 코드 단위에 미리 정해진 일련의 연산을 작성한다.
- 객체 지향 프로그래밍 패러다임에서는 클래스 기준으로 코드를 구조화하여, 클래스에는 로직과 데이터가 정의된다.
- 함수형 프로그래밍 패러다임에서는 코드를 함수 단위로 구조화한다. 이대 함수는 절차적 프로그래밍의 함수와는 달리 부수 효과가 없는 순수 함수이다. 또한 함수 자체가 값으로 취급된다는 특징이 있다.

패러다임은 개발자가 문제와 해결책에 접근하는 방법과 코드를 구성하고 유지 보수하는 방법을 안내하는 표지판 같은 역할을 할 뿐이다.

여러 패러다임을 사용해 코드를 구조화할 수 있도록 지원하는 언어를 `다중 패러다임 언어`라고 부른다.

JS는 다중 패러다임 언어라 절차적, 객체 지향, 함수형 스타일 코드를 모두 작성할 수 있다.

# 1.5 하위 호화성과 상위 호환성

JS를 지탱하는 기본 원칙 중 하나는 하위호환성 보장이다.

하위 호환성이란 단 한 번이라도 유효한 JS 문법이라고 인정되면 명세서가 변경되더라도 절대 그 유효성이 깨지지 않는다는 의미이다.

JS는 하위 호환성을 보장하므로 개발자는 브라우저 버전이 업데이트되더라도 직접 작성한 코드가 깨지지 않을 거라는 자신감을 가지고 작업할 수 있다.

## 1.5.1 간극을 줄이기 위한 노력

아주 오래된 엔진에서는 유요한 문법으로 작성한 코드가 돌아가지 않을 가능성이 있다.

구 엔진과 호환되지 않는 문법은 트랜스파일을 통해 호환성 문제를 해결할 수 있다.

트랜스파일러는 새로운 JS 문법을 오래된 문법으로 바꿔주며 주로 바벨을 사용한다.

최신 JS를 쓰는 게 좋다고 강하게 권유하는 이유는 코드가 깔끔해지고 의도하는 바를 효과적으로 전달할 수 있기 때문이다.

## 1.5.2 간극을 메우기 위한 방법 찾기

메서드 정의를 추가해 이미 이 메서드가 오래된 환경에도 있었던 것처럼 해주는 방법이 가장 일반적인 해결책이다. 이런 패턴을 폴리필이라고 한다.

코드를 작성할 때는 항상 구현 의도를 효과적으로 전달해야 하므로 그에 걸맞은 적절한 문법을 사용해야 한다.

트랜스파일이나 폴리필은 오래된 환경이나 애플리케이션, JS 최신 기능 이 둘 사이의 간극을 메꾸는 가교 역할을 한다.

# 1.6 인터프리터 이해하기

JS는 소스 코드 자체를 배포하지, 바이너리 파일을 배포하는게 아니기 때문에 많은 사람이 JS를 컴파일 언어가 아니라고 주장한다. JS가 인터프리터 언어인지 컴파일 언어인지 명확히 이해하고 있어야 JS가 오류를 어떻게 처리하는지 알 수 있기 때문이다.

인터프리터나 스크립트 언어로 작성한 프로그램의 다섯 번째 줄에 오류가 있다면 네 번째 줄이 실행되기 전까지는 오류를 발견하지 못한다.

파싱과 컴파일을 거치는 언어의 다섯 번째 줄에 유효하지 않은 명령이 있다면 파싱 단계에서 오류가 발견되므로 사전에 오류를 차단할 수 있다.

`파싱`을 거치는 언어와 `컴파일`을 거치는 언어의 공통점

1. 모든 컴파일 언어가 파싱을 거친다.

파싱을 거치는 언어는 컴파일 언어라고 통용된다. JS로 작성한 소스 코드는 실행 전에 파싱을 거친다. JS는 파싱을 거치는 언어이긴 한데 컴파일 언어일까?

- 답은 `예`에 가깝다.

JS는 파싱이 끝난 코드는 한 줄씩 처리되지 않고, JS 가상 머신(VM)에 전달할 이진 바이트 코드가 생성된다.

JS 실행 절차

1. 코드는 바벨이 트랜스파일한다.
2. 웹팩을 비롯한 번들러를 거처 번들링된다.
3. 그 결과가 JS 엔진에 전달된다.
4. JS 엔진은 코드를 파싱해 추상 구문 트리로 바꾼다.
5. JS 엔진은 추상 구문 트리를 이진 바이트 코드로 바꾼다.
6. JIT 컴파일러가 작동하며 최적화가 함께 진행된다.
7. JS 가상 머신이 프로그램을 실행한다.

필자는 JS가 컴파일 언어라고 생각한다.

## 1.6.1 웹어셈블리

Wasm은 JS가 주력이 아닌 개발자(C개발자 등)도 JS 엔진에서 돌아가는 코드를 쉽게 작성할 수 있게 해주는 데 그 목적이 있었고, 이는 ASM.js의 철학과 유사하다.

Wasm은 이름에서 알 수 있듯이 어셈블리 언어와 유사하며 JS 엔진에서 일어나는 일반적인 처리 프로세스와 달리 파싱, 컴파일 없이 처리된다.

Wasm 관련 흥미로운 관점은 Wasm이 웹(Wasm의 첫 글자 web)과 직접적인 연관이 없다는 점이다. 최근 Wasm은 프로그램을 컴파일한 후 다양한 시스템 환경에서 실행할 수 있도록 해주는 크로스 플랫폼 가상 머신(VM)으로 진화하고 있다.

Wasm은 웹 전용 기술도 아니며 JS도 아니다.

# 1.7 엄격 모드

ES5에 새로운 매커니즘인 엄격모드가 추가되고 선택 사항으로 엄격 모드를 사용할 수 있게 되면서 더 나은 JS 프로그램을 만들기 위한 장치가 마련되었다.

엄격 모드를 사용하면 소실보다 이득이 크다. 파일 대상으로 적용되는 엄격 모드는 전처리 구문 `use strict`가 있는 경우에 활성화된다.

엄격 모드는 함수 단위로도 적용할 수 있다. 함수에도 역시 파일 단위 엄격 모드와 동일한 규칙이 적용된다.

엄격 모드가 기본이 아니어서 발생할 수 있는 `불확실성`을 줄여주는 여러 요인이 있다.

# 1.8 정리

JS는 ECMA 주최하에 TC39 위원회가 결정하는 ECMAScript 표준을 구현한 언어이다.

JS는 다중 패러다임 언어이다. 절차적으로도 코드를 작성할 수 있고 객체 지향 방식으로도, 함수형으로도 코드를 작성할 수 있다.

JS는 컴파일 처리되는 언어이다.
