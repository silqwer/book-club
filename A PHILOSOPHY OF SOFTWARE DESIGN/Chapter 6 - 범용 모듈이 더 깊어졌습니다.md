# 6. 범용 모듈이 더 깊어졌습니다

새 모듈을 설계할 때 직면하게 되는 가장 일반적인 결정 중 하나는 모듈을 범용으로 구현할지 특수 목적으로 구현할지 여부이다.

<aside>
💡

각자 범용으로 구현할지 특수로 구현할지 결정하는 요소 말해보기
저는 범용으로 적용되는 부분이 많아야 특수로 구현한 부분에서 분리해 범용으로 만듭니다. 예전에 버튼 공통 컴포넌트를 작성하는데 범용으로 모든 케이스를 적용하려고 하니까 결국엔 버튼이 되더라.
케어할 수 있는 부분이 많아지긴 했는데

</aside>

우리 소프트웨어 시스템의 미래 요구 사항을 예측하기 어렵다는 것을 알고 있으므로 범용 솔루션에는 실제로 필요하지 않은 로직이 포함될 수 있다.

너무 범용적인 것을 구현하면 현재 겪고 있는 특정 문제를 제대로 해결하지 못할 수 있다.

특수 목적 접근 방식을 취하고 나중에 추가 용도를 발견하는 경우 언제든지 리팩터링 하여 범용으로 만들 수 있다.

특수 목적 접근 방식은 소프트웨어 개발에 대한 점진적 접근 방식과 일치하는 것으로 보인다.

## 6.1 클래스를 다소 범용적으로 만들기

다소 일반적인 목적의 방식으로 새 모듈을 구현하는 것이다. 여기서 `다소 범용적`이라는 문구는 모듈의 기능이 현재 요구사항을 반영하고 인터페이스를 그렇지 않아야 함을 의미한다. 대신 인터페이스는 일반적이어야 한다.

범용 접근 방식의 가장 중요하고 놀라운 이점은 특수 목적 접근 방식보다 더 간단하고 심층적인 인터페이스를 제공한다는 점이다. 클래스를 다른 목적으로 재사용할 경우 나중에 시간을 절약할 수도 있다. 단순성 때문에 범용 접근 방식이 더 좋다.

## 6.2 예: 편집기용 텍스트 저장

결과적으로 사용자 인터페이스 작업을 수행하는 개발자는 텍스트 클래스에 대한 많은 메서드를 배워야 했다.

클래스 디자인의 목표 중 하나는 각 클래스를 독립적으로 개발할 수 있도록 하는 것이지만, 특수한 접근 방식은 사용자 인터페이스와 텍스트 클래스를 함께 묶었다.

## 6.3 보다 범용적인 API

범용 접근 방식은 텍스트 클래스의 많은 특수 목적 메서드를 더 적은 수의 범용 메서드로 대체하기 때문에 특수 접근 방식보다 전체적으로 코드가 적다.

## 6.4 일반성은 더 나은 정보 은닉을 가져온다

범용 접근 방식은 텍스트와 사용자 인터페이스 클래스를 더 명확하게 분리하여 정보를 더 잘 숨긴다.

범용 인터페이스는 인지 부하도 줄여준다.

소프트웨어 설계의 가장 중요한 요소 중 하나는 누가 무엇을 언제 알아야 하는지 결정하는 것이다.

세부 사항이 중요한 경우에는 백스페이스 작업 구현을 수정하는 등 최대한 명시적이고 명확하게 만드는 것이 좋다.

## 6.5 스스로에게 물어볼 질문

깔끔한 범용 클래스 디자인을 만드는 것보다 알아보기가 더 쉽다.

인터페이스의 범용과 특수 목적 사이의 적절한 균형을 찾아야 한다.

<aside>
💡

인터페이스의 범용과 특수 목적 사이의 적절한 균형을 잘 찾은 케이스?

</aside>

메소드 수를 줄이기 위해 많은 추가 인수를 도입해야 한다면 실제로는 단순화되지 않을 수 있다.

여러 특수 목적 메서드를 단일 범용 메서드로 대체할 수 있는지 확인해라.

현재 목적에 맞게 클래스를 사용하기 위해 추가 코드를 많이 작성해야 한다면 이는 인터페이스가 올바른 기능을 제공하지 않다는 위험 신호이다.

## 6.6 결론

범용 인터페이스는 특수 목적 인터페이스에 비해 많은 장점을 가지고 있다. 더 깊은 방법이 적고 더 간단한 경향이 있다. 또한 클래스 간을 더 명확하게 구분한다.

특수 목적 인터페이스는 클래스 간에 정보를 유출하는 경향이 있다.

**모듈을 다소 범용적으로 만드는 것은 전체 시스템 복잡성을 줄이는 가장 중요한 방법 중 하나다.**
