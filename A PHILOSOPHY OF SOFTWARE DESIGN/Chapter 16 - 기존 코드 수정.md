# 16. 기존 코드 수정

처음부터 시스템에 적합한 설계를 구성하는 것이 불가능하다. 성숙한 시스템의 설계는 초기 개념보다는 시스템이 진화하는 동안 이루어진 변경에 의해 더 많이 결정된다.

## 16.1 전략적 유지

전술적 프로그래밍에서 주요 목표는 추가 복잡성을 초래하더라도 무언가를 빠르게 작동시키는 것이다.

전략적 프로그래밍에서 가장 중요한 목표는 훌륭한 시스템 디자인을 만드는 것이다.

개발자가 버그 수정이나 새로운 기능 등을 변경하기 위해 기존 코드를 사용할 때 일반적으로 전략적으로 생각하지 않는다.

나에게 필요한 것을 달성하기 위해 내가 할 수 있는 가장 작은 변화는 무엇인가? 를 생각하면서 불편한 코드를 정당화한다.

시스템의 깔끔한 디자인을 유지하려면 기존 코드를 수정할 때 전략적 접근 방식을 취해야 한다.

코드를 작성하는 동안 수정할 수 있는 디자인 결함이 있는지 계속 살펴봐야 한다.

코드를 수정할 때마다 그 과정에서 시스템 디자인을 조금이라도 개선할 수 있는 방법을 찾아라.

디자인을 더 좋게 만들지 않는다면 디자인을 더 나쁘게 만들고 있는 것이다.

<aside>
💡

전략적 프로그래밍을 하기 위해서 어떤 전략을 사용하는가? 사실 QA를 처리하기 위해서 이슈를 만들고 해결하면 책에서 말한 최소한의 변경을 하며 빠른시간에 문제를 해결하려고 한다.

그래서 깃헙 이슈에 해당 내용을 남겨서 히스토리를 넣어 기록한다. 나중으로 미뤄버린다. 플래닝할 때 시간이 남으면 해당 이슈를 가져와 해결한다.

저자는 그럼에도 이러한 타협에 저항해야 한다고 말한다.

</aside>

리팩토링을 진행하려면 상사에게 현재 마감일 이후에 다시 돌아올 수 있는 시간을 할당하도록 해라.

<aside>
💡

저자는 리팩터링을 위해 작은 부분 리소스 할당을 계획해야 한다고 말한다. SCM의 경우 이렇게 플래닝을 하는가?

PV의 경우 케빈은 꽤 많은 시간, 조금은 과하게 리팩터링에 투자을 하고 있는 것 같다.

예전 개발 주간 회의에서 서비스의 오류가 많이 발생해 나는 리팩터링, 즉 기술 부채를 해결해야 하는 시간을 가져야 한다고 말했다. 우리도 이런 시간을 잡아야하지 않을까?

</aside>

## 16.2 주석 유지하기: 코드 근처에 주석을 유지하세요

기존 코드를 변경하면 변경 사항으로 인해 기존 주석 중 일부가 무효화될 가능성이 높다.

주석이 업데이트 되도록 하는 가장 좋은 방법은 주석을 설명하는 코드 가까이 배치하여 개발자가 코드를 변경할 때 주석을 볼 수 있도록 하는 것이다.

## 16.3 주석은 커밋 로그가 아닌 코드에 속합니다

가장 중요한 것은 해당 정보를 코드에 포함시키는 것이다.

## 16.4 주석 유지: 중복 방지

주석을 최신 상태로 유지하는 두 번째 기술은 중복을 피하는 것이다.

문서를 보관할 가장 확실한 단일 장소를 찾아라.

<aside>
💡

반복되는 코드를 함수, 클래스로 뽑아서 해당 부분에 주석을 작성하라는 말인가?

</aside>

명확한 위치를 찾을 수 없다면 같은 파일 위치에 디자인 파일을 만들어라. → 결국엔 문서화!

## 16.5 댓글 관리: dis를 확인하세요

문서를 최신 상태로 유지하는 좋은 방법 중 하나는 커밋에 대한 모든 변경 사항을 검사하는 것이다.

## 16.6 더 높은 수준의 주석을 유지 관리가 더 쉽습니다

주석은 코드보다 더 높은 수준이고 추상적이며 유지하기가 더 쉽다.
